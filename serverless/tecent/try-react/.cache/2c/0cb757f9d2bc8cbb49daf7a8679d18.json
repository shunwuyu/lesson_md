{"id":"jiw4","dependencies":[{"name":"D:\\lesson_md\\serverless\\tecent\\try-react\\package.json","includedInParent":true,"mtime":1616247883592},{"name":"D:\\lesson_md\\serverless\\tecent\\try-react\\node_modules\\rc-overflow\\package.json","includedInParent":true,"mtime":1614740695912},{"name":"@babel/runtime/helpers/esm/slicedToArray","loc":{"line":1,"column":27},"parent":"D:\\lesson_md\\serverless\\tecent\\try-react\\node_modules\\rc-overflow\\es\\hooks\\useBatchFrameState.js","resolved":"D:\\lesson_md\\serverless\\tecent\\try-react\\node_modules\\@babel\\runtime\\helpers\\esm\\slicedToArray.js"},{"name":"react","loc":{"line":2,"column":44},"parent":"D:\\lesson_md\\serverless\\tecent\\try-react\\node_modules\\rc-overflow\\es\\hooks\\useBatchFrameState.js","resolved":"D:\\lesson_md\\serverless\\tecent\\try-react\\node_modules\\react\\index.js"},{"name":"rc-util/es/raf","loc":{"line":3,"column":16},"parent":"D:\\lesson_md\\serverless\\tecent\\try-react\\node_modules\\rc-overflow\\es\\hooks\\useBatchFrameState.js","resolved":"D:\\lesson_md\\serverless\\tecent\\try-react\\node_modules\\rc-util\\es\\raf.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.useBatchFrameState=n;var e=u(require(\"@babel/runtime/helpers/esm/slicedToArray\")),r=require(\"react\"),t=u(require(\"rc-util/es/raf\"));function u(e){return e&&e.__esModule?e:{default:e}}function n(){var u=(0,r.useState)({}),n=(0,e.default)(u,2)[1],c=(0,r.useRef)([]),f=(0,r.useRef)(!1),a=0,i=0;return(0,r.useEffect)(function(){return function(){f.current=!0}},[]),function(e){var r=a;return a+=1,c.current.length<r+1&&(c.current[r]=e),[c.current[r],function(e){c.current[r]=\"function\"==typeof e?e(c.current[r]):e,t.default.cancel(i),i=(0,t.default)(function(){f.current||n({})})}]}}"},"sourceMaps":{"js":{"mappings":[{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":0}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":13}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":20}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":35}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":43}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":56}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":57}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":64}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":68}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":76}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":95}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":1,"column":0},"generated":{"line":1,"column":101}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":1,"column":0},"generated":{"line":1,"column":103}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":1,"column":0},"generated":{"line":1,"column":105}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":1,"column":0},"generated":{"line":1,"column":113}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":2,"column":0},"generated":{"line":1,"column":158}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":2,"column":0},"generated":{"line":1,"column":160}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":2,"column":0},"generated":{"line":1,"column":168}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":3,"column":0},"generated":{"line":1,"column":177}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":3,"column":0},"generated":{"line":1,"column":179}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":3,"column":0},"generated":{"line":1,"column":181}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":3,"column":0},"generated":{"line":1,"column":189}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":208}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":217}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":219}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":222}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":229}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":232}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":234}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":245}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":247}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":248}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":50,"column":1},"generated":{"line":1,"column":256}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":9,"column":7},"generated":{"line":1,"column":259}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"useBatchFrameState","original":{"line":9,"column":16},"generated":{"line":1,"column":268}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"_useState","original":{"line":10,"column":6},"generated":{"line":1,"column":272}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"_useState","original":{"line":10,"column":6},"generated":{"line":1,"column":276}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":10,"column":18},"generated":{"line":1,"column":279}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":10,"column":27},"generated":{"line":1,"column":281}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":10,"column":27},"generated":{"line":1,"column":283}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":10,"column":27},"generated":{"line":1,"column":293}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"forceUpdate","original":{"line":12,"column":6},"generated":{"line":1,"column":297}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":11,"column":19},"generated":{"line":1,"column":300}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"_useState","original":{"line":11,"column":34},"generated":{"line":1,"column":302}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"_useState","original":{"line":11,"column":34},"generated":{"line":1,"column":304}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"_useState","original":{"line":11,"column":34},"generated":{"line":1,"column":313}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":11,"column":45},"generated":{"line":1,"column":315}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":12,"column":31},"generated":{"line":1,"column":318}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"statesRef","original":{"line":14,"column":6},"generated":{"line":1,"column":321}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":14,"column":18},"generated":{"line":1,"column":324}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":14,"column":25},"generated":{"line":1,"column":326}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":14,"column":25},"generated":{"line":1,"column":328}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":14,"column":25},"generated":{"line":1,"column":336}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"destroyRef","original":{"line":15,"column":6},"generated":{"line":1,"column":340}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":15,"column":19},"generated":{"line":1,"column":343}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":15,"column":26},"generated":{"line":1,"column":345}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":15,"column":26},"generated":{"line":1,"column":347}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":15,"column":26},"generated":{"line":1,"column":356}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"walkingIndex","original":{"line":16,"column":6},"generated":{"line":1,"column":359}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":16,"column":21},"generated":{"line":1,"column":361}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"beforeFrameId","original":{"line":17,"column":6},"generated":{"line":1,"column":363}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":17,"column":22},"generated":{"line":1,"column":365}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"createState","original":{"line":49,"column":9},"generated":{"line":1,"column":367}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":18,"column":12},"generated":{"line":1,"column":374}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":18,"column":12},"generated":{"line":1,"column":376}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":18,"column":12},"generated":{"line":1,"column":378}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":18,"column":12},"generated":{"line":1,"column":389}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":19,"column":11},"generated":{"line":1,"column":400}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":19,"column":11},"generated":{"line":1,"column":407}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"destroyRef","original":{"line":20,"column":6},"generated":{"line":1,"column":418}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"current","original":{"line":20,"column":17},"generated":{"line":1,"column":420}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":20,"column":27},"generated":{"line":1,"column":429}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":22,"column":5},"generated":{"line":1,"column":433}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"createState","original":{"line":24,"column":11},"generated":{"line":1,"column":437}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"defaultValue","original":{"line":24,"column":23},"generated":{"line":1,"column":446}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"myIndex","original":{"line":25,"column":8},"generated":{"line":1,"column":449}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"myIndex","original":{"line":25,"column":8},"generated":{"line":1,"column":453}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"walkingIndex","original":{"line":25,"column":18},"generated":{"line":1,"column":455}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":46,"column":11},"generated":{"line":1,"column":457}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"walkingIndex","original":{"line":26,"column":4},"generated":{"line":1,"column":464}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":26,"column":20},"generated":{"line":1,"column":467}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"statesRef","original":{"line":28,"column":8},"generated":{"line":1,"column":469}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"current","original":{"line":28,"column":18},"generated":{"line":1,"column":471}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"length","original":{"line":28,"column":26},"generated":{"line":1,"column":479}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"myIndex","original":{"line":28,"column":35},"generated":{"line":1,"column":486}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":28,"column":45},"generated":{"line":1,"column":488}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"statesRef","original":{"line":29,"column":6},"generated":{"line":1,"column":492}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"current","original":{"line":29,"column":16},"generated":{"line":1,"column":494}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"myIndex","original":{"line":29,"column":24},"generated":{"line":1,"column":502}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"defaultValue","original":{"line":29,"column":35},"generated":{"line":1,"column":505}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":46,"column":11},"generated":{"line":1,"column":508}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"statesRef","original":{"line":33,"column":16},"generated":{"line":1,"column":509}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"current","original":{"line":33,"column":26},"generated":{"line":1,"column":511}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"myIndex","original":{"line":33,"column":34},"generated":{"line":1,"column":519}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"setValue","original":{"line":35,"column":13},"generated":{"line":1,"column":522}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"val","original":{"line":35,"column":22},"generated":{"line":1,"column":531}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"statesRef","original":{"line":36,"column":6},"generated":{"line":1,"column":534}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"current","original":{"line":36,"column":16},"generated":{"line":1,"column":536}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"myIndex","original":{"line":36,"column":24},"generated":{"line":1,"column":544}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":36,"column":50},"generated":{"line":1,"column":547}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"val","original":{"line":36,"column":42},"generated":{"line":1,"column":566}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"val","original":{"line":36,"column":63},"generated":{"line":1,"column":568}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"statesRef","original":{"line":36,"column":67},"generated":{"line":1,"column":570}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"current","original":{"line":36,"column":77},"generated":{"line":1,"column":572}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"myIndex","original":{"line":36,"column":85},"generated":{"line":1,"column":580}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"val","original":{"line":36,"column":97},"generated":{"line":1,"column":584}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"cancel","original":{"line":37,"column":10},"generated":{"line":1,"column":586}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"cancel","original":{"line":37,"column":10},"generated":{"line":1,"column":588}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"cancel","original":{"line":37,"column":10},"generated":{"line":1,"column":596}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"beforeFrameId","original":{"line":37,"column":17},"generated":{"line":1,"column":603}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"beforeFrameId","original":{"line":39,"column":6},"generated":{"line":1,"column":606}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":39,"column":22},"generated":{"line":1,"column":609}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":39,"column":26},"generated":{"line":1,"column":611}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":39,"column":26},"generated":{"line":1,"column":613}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":39,"column":26},"generated":{"line":1,"column":622}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"destroyRef","original":{"line":40,"column":13},"generated":{"line":1,"column":633}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"current","original":{"line":40,"column":24},"generated":{"line":1,"column":635}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","name":"forceUpdate","original":{"line":41,"column":10},"generated":{"line":1,"column":644}},{"source":"node_modules/rc-overflow/es/hooks/useBatchFrameState.js","original":{"line":41,"column":22},"generated":{"line":1,"column":646}}],"sources":{"node_modules/rc-overflow/es/hooks/useBatchFrameState.js":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport { useRef, useState, useEffect } from 'react';\nimport raf from \"rc-util/es/raf\";\n/**\n * State generate. Return a `setState` but it will flush all state with one render to save perf.\n * This is not a realization of `unstable_batchedUpdates`.\n */\n\nexport function useBatchFrameState() {\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      forceUpdate = _useState2[1];\n\n  var statesRef = useRef([]);\n  var destroyRef = useRef(false);\n  var walkingIndex = 0;\n  var beforeFrameId = 0;\n  useEffect(function () {\n    return function () {\n      destroyRef.current = true;\n    };\n  }, []);\n\n  function createState(defaultValue) {\n    var myIndex = walkingIndex;\n    walkingIndex += 1; // Fill value if not exist yet\n\n    if (statesRef.current.length < myIndex + 1) {\n      statesRef.current[myIndex] = defaultValue;\n    } // Return filled as `setState`\n\n\n    var value = statesRef.current[myIndex];\n\n    function setValue(val) {\n      statesRef.current[myIndex] = typeof val === 'function' ? val(statesRef.current[myIndex]) : val;\n      raf.cancel(beforeFrameId); // Flush with batch\n\n      beforeFrameId = raf(function () {\n        if (!destroyRef.current) {\n          forceUpdate({});\n        }\n      });\n    }\n\n    return [value, setValue];\n  }\n\n  return createState;\n}"},"lineCount":null}},"error":null,"hash":"88e96e345b37c1db55ac3967f36a69f9","cacheData":{"env":{}}}