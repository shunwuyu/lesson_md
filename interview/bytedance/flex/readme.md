https://juejin.im/post/5e4932d151882549417fc031
元素占用空间设置
![](https://user-gold-cdn.xitu.io/2018/12/5/1677bf9d1de3a979?imageView2/0/w/1280/h/960/format/webp/ignore-error/1)
1. 当子容器宽度之和超出父容器宽度之后不是仅仅按照500:400 或者 2:1来计算的，实际计算过程应该是这个样子的 shrink 缩水
  不加flex-shrink  是按 宽比例分配
  - 500+400-600 = 300  首先不超出
  - 超出部分实例的分配比例 500x2:400:1  5:2
  - 500-300*5/7 = 285.71
    400 - 3002/7 ≈ 314.29

2. 加padding 
  当我们不设置box-sizing时，其默认值是content-box,也就是标准盒模型
  500 + 40x2 = 580
  flex项计算可用空间时, padding部分会被冻结不参与分配
  580-40x2=500  440-20x2=400
  
  - 计算超出部分，按照真正占用空间计算：580+440-600=420
  - 超出部分实际的分配比例，不包含padding：500x2:400x1 也就是5：2
  - 那么left的宽就是: 580 - 420x5/7 = 280， right的宽是: 440 - 420x2/7 = 320, 符合实际情况

3. box-sizing: border-box,也就是IE盒模型
  - 计算出超出部分, 按真正占用空间计算：500+400-600=300
  - 超出部分实际的分配比例, 不包含padding：420x2:360x1 也就是7：3
  - 那么left的宽就是: 500 - 300x7/10 = 290， right的宽是: 400 - 300x3/10 = 310, 符合实际情况。

- 按照子元素实际占用空间(不考虑父容器宽度的情况下)，求出超出部分
- 根据子元素实际占用空间减去margin、padding、border后得到的可用空间和flex缩小或放大倍数加权计算超出部分的分配比例
- 根据缩减分配比例求出具体缩减像素