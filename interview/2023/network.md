[](https://juejin.cn/post/7127829661358227464)

- 你在网上买了一件商品，从商品出库到拿到商品一般会经历哪些流程？
    商家端：
        1. 准备商品
        2. 给商品贴标签
        3. 打包商品
        4. 快递员揽收商品
        5. 商品到达快递站
        6. 商品通过货车运送
        7. 商品离开商品所在城市
    顾客端：
        1. 商品到达目的城市
        2. 商品通过货车运送
        3. 商品到达快递站
        4. 快递员送商品
        5. 顾客拿到商品
        6. 顾客撕开快递单
        7. 取出商品
- OSI 七层协议， 每一层干什么？
    举个例子： 生活中商品通过快递到达你手上的例子
    物理层  第一层
        定义了电气和机械规格，如电缆、连接器和介质的信号
        物理层数据单元  位

    数据链路层  第二层
        这一层的数据单元称为“帧”  帧头+数据信息  MAC   那台电脑
        两个子层
            - 第一层称为逻辑链路控制层
                负责将数据包传输到接收网络层， 从报头中识别网络层协议地址，并提供流量控制
            - 第二层称为媒体访问控制层
                网络的逻辑链路控制层和物理层之间的连接层，该层用于通过网络传输数据包。
        数据链路层数据单元 帧

    网络层  第三层
        - 一种是将分段（传输层）分解为网络数据包，然后在接收端重新组装数据包。
        - 另一种是通过发现跨物理网络的最佳路径来路由数据包
    网络层使用IP地址将数据包路由到目标节点。
        网络层数据单元 数据包

    传输层 第四层
        负责传送、错误检查、流量控制和数据包排序，传输层的数据单元是数据段。
        两种经典的传输层协议
            - 传输控制协议 (TCP)：面向连接的可靠协议
            - 用户数据报协议 (UDP)：无连接且不可靠的协议
        传输协议数据单元 段

    会话层 第五层
        允许不同机器上的用户之间建立会话关系
        在传输层服务的基础上增加控制会话的机制，建立、组织和协调应用进程之间的交互过程。
        为用户建立、引导和释放会话连接。会话层提供的会话服务种类包括双向同时（双工）、双向交替（半双工）和单向（单工）   WebSocket  HTTP

        会话协议数据单元  SPDU


    表示层 第六层
        以易于理解的形式将数据呈现给用户，表示层负责语法，因为发送方和接收方使用的通信模式可能不同，你可以将表示层看作是翻译
        表示协议数据单元 PPDU  application/json

    应用层 第七层
        应用层是唯一直接与用户数据交互的 OSI 层，该层提供了一个协议，允许软件发送和接收信息以及向用户呈现有意义的数据
        应用协议数据单元 APDU

- 四次挥手
    https://juejin.cn/post/6844903625513238541#heading-2
    TCP断开链接的过程和建立链接的过程比较类似，只不过中间的两部并不总是会合成一步走，所以它分成了4个动作
    张三挥手(fin)——李四伤感地微笑(ack)——李四挥手(fin)——张三伤感地微笑(ack)

    之所以中间的两个动作没有合并，是因为tcp存在「半关闭」状态，也就是单向关闭 

    张三已经挥了手，可是人还没有走，只是不再说话，但是耳朵还是可以继续听，李四呢继续喊话（半关闭）。等待李四累了，也不再说话了，朝张三挥了挥手，张三伤感地微笑了一下，才彻底结束了。

- HTTPS
    - MITM 是什么意思
        中间人攻击 Man-in-the-Middle attack
    1. HTTP存在的问题
        -  可能被窃听
            1. HTTP 本身不具备加密的功能,HTTP 报文使用明文方式发送
            2. 由于互联网是由联通世界各个地方的网络设施组成,所有发送和接收经过某些设备的数据都可能被截获或窥视  Wireshark 抓包工具
        -  认证问题
            - 无法确认你发送到的服务器就是真正的目标服务器 可能服务器是伪装的
            - 无法确定返回的客户端是否是按照真实意图接收的客户端 可能是伪装的客户端
            - 无法阻止海量请求下的 DoS 攻击（Denial of Service，拒绝服务攻击）。
                无法确定正在通信的对方是否具备访问权限，Web 服务器上某些重要的信息，只想发给特定用户即使是无意义的请求也会照单全收
        - 可能被篡改
            遭攻击者拦截并篡改内容的攻击被称为中间人攻击 Man-in-the-Middle attack，MITM

    2. HTTPS介绍
        超文本传输安全协议（英语：Hypertext Transfer Protocol Secure
        HTTPS经由HTTP进行通信，但利用SSL/TLS来加密数据包。HTTPS开发的主要目的，是提供对网站服务器的身份认证，保护交换数据的隐私与完整性
            SSL记录协议  建立在可靠的传输协议（如TCP）之上，为高层协议提供数据封装、压缩、加密等基本功能
            SSL握手协议  它建立在SSL记录协议之上，用于在实际的数据传输开始前，通讯双方进行身份认证、协商加密算法、交换加密密钥等
            会话层的功能和表示层的功能正好和SSL记录协议和握手协议的功能一样，我想这两层协议就应该分别工作在这上面！

    3. HTTPS怎么解决上述问题
        HTTPS是在通信接口部分用 TLS(Transport Layer Security 传输层安全性协议)，TLS协议采用主从式架构模型，用于在两个应用程序间通过网络创建起安全的连接，防止在交换数据时受到窃听及篡改。
    https://juejin.cn/post/6844903599303032845
    - 用信鸽来解释
        如果爱丽丝想要给鲍勃发送一段信息，她会把信息绑在信鸽的腿上然后送往鲍勃那里。鲍勃收到了信息，并阅读了信息，非常完美。

