[source](https://juejin.im/post/5c8e5e4951882545c109ae9c)

虚拟DOM  用JS去构造DOM结构来实现的树形结构对象， 也可以叫DOM对象

创建虚拟DOM，  渲染DOM开始

DOM-diff 任意两棵树， 采用先序深度优先遍历的算法找到最少的转换步骤
比较两个虚拟DOM的区别， 比较两个对象的区别。

创建补丁， 描述改变的内容， 将这个补丁用来更新DOM
- 每个元素都有一个补丁，所以需要创建一个放当前补丁的数组
- 如果没有new节点的话，就直接将type为REMOVE的类型放到当前补丁里
- 如果新老节点是文本的话，判断一下文本是否一致，再指定类型TEXT并把新节点放到当前补丁
- 如果新老节点的类型相同，那么就来比较一下他们的属性props
- 上面三个如果都没有发生的话，那就表示节点单纯的被替换了，type为REPLACE，直接用、
- 当前补丁里确实有值的情况，就将对应的补丁放进大补丁包里

patch 做了什么
- 用一个变量来得到传递过来的所有补丁allPatches
- patch方法接收两个参数(node, patches)
  在方法内部调用walk方法，给某个元素打上补丁
- walk方法里获取所有的子节点
- doPatch打补丁方法会根据传递的patches进行遍历