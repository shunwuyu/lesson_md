![](https://juejin.cn/post/6844904007182319624)

-  插入排序，  直接插入排序
  复习一下 sort_insertion  1.js

- 插入排序的一种更高效的改进版本
  希尔排序
    - 插入排序在对几乎已经排好序的数据操作时，效率高，即可以达到线性排序的效率；
    - 但插入排序一般来说是低效的，因为插入排序每次只能将数据移动一位；

    先将整个待排序的记录序列分割成为若干子序列分别进行直接插入排序，
    待整个序列中的记录“基本有序”时，再对全体记录进行依次直接插入排序。

    1. 选择一个增量序列 t1，t2，……，tk，其中 ti > tj, tk = 1；
    2. 按增量序列个数 k，对序列进行 k 趟排序；
    3. 每趟排序，根据对应的增量 ti，将待排序列分割成若干长度为 m 的子序列，分别对各子表进行直接插入排序。仅增量因子为 1 时，整个序列作为一个表来处理，表长度即为整个序列的长度。

    
- https://juejin.cn/post/6844904007182319624
  1. 回忆插入排序
    比如下面数组中的元素3，按照大小关系，需要插入到前面有序区三个元素之前，而前面三个元素则相应向后挪动：
    以此类推，插入排序一共会进行（数组长度-1）轮，每一轮的结果如下：
    ![](https://p1-jj.byteimg.com/tos-cn-i-t2oaga2asx/gold-user-assets/2019/11/29/16eb5135f5c544aa~tplv-t2oaga2asx-watermark.awebp)

    插入排序的平均时间复杂度是O（n^2） 这个排序算法并不复杂 但显然并不是一个高效的排序算法。

  2. 有哪些优化点呢？
    1. 在大多数元素已经有序的情况下，插入排序的工作量较小
      ，如果一个数组大部分元素都有序，那么数组中的元素自然不需要频繁地进行比较和交换。
      235689 1
    2. 在元素数量较少的情况下，插入排序的工作量较小
      插入排序的工作量和n的平方成正比，如果n比较小，那么排序的工作量自然要小得多。

  - 如何让大部分元素有序？
    或者元素数量减少呢？
    
  1. 预处理让元素数组大部分变得有序
    分组排序
    让元素两两一组，同组两个元素之间的跨度，都是数组总长度的一半，也就是跨度为4。
  2. 让每组元素进行独立排序 每一组的元素数量很少
    只有两个，所以插入排序的工作量很少 
  3. 我们可以进一步缩小分组跨度，重复上述工作。
    也就是跨度
  4. 最后，我们把分组跨度进一步减小，让跨度为1，也就等同于做直接插入排序。经过之前的一系列粗略调整，直接插入排序的工作量减少了很多，排序结果如下

  像这样逐步分组进行粗调，再进行直接插入排序的思想，就是希尔排序，根据该算法的发明者，计算机科学家Donald Shell的名字所命名。

  分组跨度（4，2，1），被称为希尔排序的增量
  算法的平均时间复杂度低于O(n^2)
  在某些极端的情况下， 任然是O(n^2) , 甚至比直接插入排序更慢。
  ![](https://p6-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/e94d4a690b98404b871f89a929523b42~tplv-k3u1fbpfcp-watermark.awebp?)
  