<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
  #container {
    width: 100%;
    height: 200px;
    line-height: 200px;
    text-align: center;
    border: 1px solid #000;
  }
  </style>
</head>
<body>
  <div id="container">
  </div>
  <button id="buyItnow">buy</button>
  <script>
  const container = document
  .getElementById('container');
  let count = 0

  let timeout 
  function getUser() {
    clearTimeout(timeout);
    timeout = setTimeout(() => {
      container.innerHTML = count ++;
    }, 1000);
  }
  // 高阶函数 输入是函数 输出也是函数
  container.onmousemove = getUser

  function buy(e) {
    console.log(e, 1234);
  }
  // HOF
  function debounce(func) {
    let timeout;
    // onClick onMouseMove 调用的
    return function(e) {
      clearTimeout(timeout);
      timeout = setTimeout(() => {
        func(e);
      }, 1000);
    }
  }
  const buyButton = document.getElementById('buyItnow');
  // _.debounce
  // debounce 调用 返回 函数
  buyButton.onclick = debounce(buy);
  // buyButton.onclick = buy;
  // 

  
  function aaabbb() {
    
  }
  // buyButton.addEventListener('click', aaabbb)
  buyButton.addEventListener('click', debounce(aaabbb))
  // onclick 必须是个函数
  buyButton.onclick = aaabbb

  buyButton.onclick = function() {

  }



  </script>
</body>
</html>