<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
  <style>
    * {margin: 0;padding: 0;}
      #box {
        width: 100px;
        height: 100px;
        background-color: red;
        transform-origin: 50% 50%;
      }
    </style>
</head>

<body>
  <div id="box"></div>

  <script src="./Custom_finger.js"></script>
  <script src="./Alloy_finger.js"></script>
  <!-- <script src="http://alloyteam.github.io/AlloyFinger/alloy_finger.js"></script> -->

  <script>
    const box = document.getElementById('box');
    function getNumberByTransformProperty(property) {
      let propertyArray = property.split(/[\(\)]/);
      return parseInt(propertyArray[1]);
    }
    new CustomFinger(
      box,
      {
        pressMove: function (evt) {
          let initStr = box.style.transform || 'translateX(0px) translateY(0px)'
          let initArray = initStr.split(' ');
          console.log(evt.deltaX, evt.deltaY);
          let x = getNumberByTransformProperty(initArray[0]) + evt.deltaX;
          let y = getNumberByTransformProperty(initArray[1]) + evt.deltaY;
          box.style.transform = `translateX(${x}px) translateY(${y}px)`;
        }
      }
    )
      // new AlloyFinger(
      //   box,
      //   {
      //     pressMove: function (evt) {
      //       let initStr = box.style.transform || 'translateX(0px) translateY(0px)'
      //       let initArray = initStr.split(' ');
      //       console.log(evt.deltaX, evt.deltaY)
      //       let x = getNumberByTransformProperty(initArray[0]) + evt.deltaX;
      //       let y = getNumberByTransformProperty(initArray[1]) + evt.deltaY;
      //       box.style.transform = `translateX(${x}px) translateY(${y}px)`;
      //     }
      //   }
      // )
  </script>
</body>

</html>