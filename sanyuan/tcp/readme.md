[source](https://juejin.cn/post/6844904070889603085)
[source](https://blog.csdn.net/taotongning/article/details/81352985)

- 在看视频的时候分别采用了什么协议传输， 为什么？
  视频的传输使用的是udp，网页的文本图片的传输使用的是tcp吧，视频传输不需要那么高的准确性，偶尔丢个包也没什么问题
- HTTP协议、TCP协议、IP协议分别在那层？ 应用层，传输层，网络层。

TCP  传输层
![](https://blog.csdn.net/taotongning/article/details/81352985)

应用层（  会话层， 表示层，应用层）, 传输层， 网络层， 网络接口层（数据链路层， 物理层）

##  网络分层的真实含义是什么？
  网络为什么要分层？因为，是个复杂的程序都要分层。
  网络包就是一段 Buffer 或者一块内存，是有格式的 

## 物理层  连接线、无线电波、电缆   二进制电信号
8位一组 连接线、无线电波、电缆   二进制电信号
![](https://img-blog.csdn.net/20180802102210541?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Rhb3RvbmduaW5n/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

## 数据链路层
数据链路层就是来对电信号来做分组的
Ethernet规定 一组电信号称之为一个数据包，或者叫做一个“帧”
每一数据帧分成：报头head和数据data两部分
  - head包含：（固定18个字节）
    发送者（源地址，6个字节）
    接收者（目标地址，6个字节）
    数据类型（6个字节
  - data包含：（最短46字节，最长1500字节）
    数据包的具体内容

  head长度+data长度=最短64字节，最长1518字节，超过最大限制就分片发这就像写信，发送者的地址（源地址）就是你家的地址，接收者地址（目标地址）就是对方的收信地址，你家的路由器就相当于邮局。其实在计算机通信中的源地址和目标地址指的是mac地址。

  计算机底层，只要在一个教室里（一个局域网），都是靠广播的方式，吼。
  有了mac地址以后，计算机就可以通信了，假设一个教室就是一个局域网（隔离的网络），这个教室里面有几台计算机，计算机的通信和人的通信是一个道理，把教室里面的人都比作一个个计算机，假设教室里面的人都是瞎子，其实计算机就是瞎子的，计算机通信基本靠吼，现在我要找教室里面的飞哥要战狼2的片，然后我就吼一声，说我要找飞哥要战狼2的片，战狼2的片就属于我的数据，但是我在发的时候我是不是要标识我是谁，我要找谁，我是谁就是我的mac地址，我要找谁就是飞哥的mac地址，这两个地址做数据包的头部，再加上数据战狼2的片就构成了一个数据帧。
  只要接收者不是自己就丢弃掉。

  你在教室1（局域网1）吼，教室2（局域网2）的人肯定是听不见的。这就是跨网络进行通信，数据链路层就解决不了这个问题了，这就得靠网络层出面了。

## 网络层
  网络层定义了一个IP协议，
  教室的负责人就是网关，网关即网络关口的意思。
  Mac地址是用来标识你这个教室的某个位置，IP地址是用来标识你在哪个教室（哪个局域网）

  你的包交给教室负责人（网关）来转发。Mac地址及IP地址唯一标识了你在互联网中的位置。

## 传输层
  网络层的ip帮我们区分子网，以太网层的mac帮我们找到主机，然后大家使用的都是应用程序，你的电脑上可能同时开启qq，暴风影音，等多个应用程序，
  端口即应用程序与网卡关联的编号
  端口范围0-65535，0-1023为系统占用端口
  tcp协议：  TCP数据包没有长度限制， 可靠传输
    TCP是一个面向连接的、可靠的、基于字节流的传输层协议。
    面向连接。所谓的连接，指的是客户端和服务器的连接，在双方互相通信之前，TCP 需要三次握手建立连接，而 UDP 没有相应建立连接的过程。
    可靠性。TCP 花了非常多的功夫保证连接的可靠，这个可靠性体现在哪些方面呢？一个是有状态，另一个是可控制。
    TCP 会精准记录哪些数据发送了，哪些数据被对方接收了，哪些没有被接收到，而且保证数据包按序到达，不允许半点差错。这是有状态。
    ，控制自己的发送速度或者重发。这是可控制。
    面向字节流。UDP 的数据传输是基于数据报的，这是因为仅仅只是继承了 IP 层的特性，而 TCP 为了维护状态，将一个个 IP 包变成了字节流。流模式
  udp协议：不可靠传输， QQ  快  短  服务器压力小
    UDP是一个面向无连接的传输层协议。 数据报模式
    1.面向数据报方式
    2.网络数据大多为短消息 
    3.拥有大量Client
    4.对数据安全性无特殊要求
    5.网络负担非常重，但对响应速度要求高
    看视频丢个一两帧可以接受吧，如果卡了是不是要把网站锤炸，所以用udp不用tcp
    视频的传输使用的是udp，网页的文本图片的传输使用的是tcp吧，视频传输不需要那么高的准确性，偶尔丢个包也没什么问题

## 应用层
  用户使用的都是应用程序，均工作于应用层，互联网是开发的，大家都可以开发自己的应用程序，数据多种多样，必须规定好数据的组织形式 。
  规定应用程序的数据格式。
  Email、WWW、FTP  

- 会话层 建立会话：A、B两台网络设备之间要通信，要建立一条会话供他们使用，在建立会话的过程中也会有身份验证，权限鉴定等环节；
保持会话：通信会话建立后，通信双方开始传递数据，当数据传递完成后，OSI会话层不一定会立刻将两者这条通信会话断开，它会根据应用程序和应用层的设置对该会话进行维护，在会话维持期间两者可以随时使用这条会话传输局；
断开会话：当应用程序或应用层规定的超时时间到期后，OSI会话层才会释放这条会话。或者A、B重启、关机、手动执行断开连接的操作时，OSI会话层也会将A、B之间的会话断开。
  浏览网页， 服务器给出回应就是一次会话， 上传文件就是一次会话 

## 表示层位于OSI分层结构的第六层，
  表示层向上对应用层服务，向下接受来自会话层的服务。表示层为在应用过程之间传送的信息提供表示方法的服务，它只关心信息发出的语法和语义。
  或者是数据加密（对于出站消息）、数据解密（对于入站消息）、数据压缩（对于出站消息）、数据解压缩（对于入站消息）。


## 应用层 
  ：8080  浏览器
  HTTP  text/html    HTTP协议在应用层
